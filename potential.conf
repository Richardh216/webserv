# Global server configuration
server {
	# Host and port configuration
	listen 80;			  # Port number(s?)
	host localhost;		 # Hostname or IP

	# Server name (optional)
	server_name example.com www.example.com;

	# Default error pages
	error_page 404 /errors/404.html;
	error_page 500 /errors/500.html;

	# Client body size limit (in bytes)
	client_max_body_size 10M;

	# Routes configuration
	location / {
		# Root directory for the route
		root /var/www/html;

		# Default file for directory requests
		index index.html;

		# Accepted HTTP methods
		allowed_methods GET POST;

		# Enable or disable directory listing
		autoindex off;

		# Handle CGI for PHP files
		cgi_extension .php;
		cgi_path /usr/bin/php-cgi;

		# File upload configuration
		upload_enable on;
		upload_path /var/uploads;
	}

	location /redirect {
		# HTTP redirection to another URL
		return 301 https://example.com/new-location;
	}

	location /files {
		# Serve static files from a specific directory
		root /mnt/shared/files;

		# Directory listing enabled
		autoindex on;
	}

	location /upload {
		# Handle file uploads
		allowed_methods POST;
		upload_enable on;
		upload_path /var/uploads;
	}

	# Default server behavior (fallback for unmatched routes)
	location /default {
		return 404;
	}
}
